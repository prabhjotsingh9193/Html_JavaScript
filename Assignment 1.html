<!DOCTYPE html>
<html>
<head>
<title>Page Title</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script>
var changeElement = false;
var data_table = [ { first_name : 'Rose',
                     last_name  : 'Tyler',
                     home       : 'Earth' },
                   { first_name : 'Zoe',
                     last_name  : 'Heriot',
                     home       : 'Space Station W3'},
                   { first_name : 'Jo',
                     last_name  : 'Grant',
                     home       : 'Earth'},
                   { first_name : 'Leela',
                     last_name  : null,
                     home       : 'Unspecified'},
                   { first_name : 'Romana',
                     last_name  : null,
                     home       : 'Gallifrey'},
                   { first_name : 'Clara',
                     last_name  : 'Oswald',
                     home       : 'Earth'},
                   { first_name : 'Adric',
                     last_name  : null,
                     home       : 'Alzarius'},
                   { first_name : 'Susan',
                     last_name  : 'Foreman',
                     home       : 'Gallifrey'} ];

function myFunction() {
    var tableString = '<table><tr><th>Firstname</th><th>Lastname</th><th>Home</th></tr>';

    $.each(data_table, function(i, j){
        tableString += '<tr>';
        tableString += '<td>' + j.first_name + '</td>';
        tableString += '<td>' + j.last_name + '</td>';
        tableString += '<td>' + j.home + '</td>';
        tableString += '</tr>';
    })
    tableString += '</table>';
    return tableString;
}

function setChangeElement(){
    if(changeElement){
        changeElement = false;
        $("p.addTable").html("Press on button to print above table on clicking any element.");
        $("p.addTable").css("color", "green");

    } else{
        changeElement = true;
        $("p.addTable").html("Press on button to disable printing tables on click.");
        $("p.addTable").css("color", "red");
    }
}

$(document).click(function(event) {
    if(changeElement && !$(event.target).hasClass("addTable")){        
        var text = $(event.target).html(myFunction());
    }
});

$(document).ready(function(){
    var string = myFunction();
    $("#testPara").html(string);
});
</script>
<style>
    table {
        font-size: 16px;
        font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
        border-collapse: collapse;
        border-spacing: 0;
        width: 50%;
    }

    table, th, td {
        border: 1px solid black;
    }
</style>
</head>
<body>

<h1>HTML/Javascript Test</h1>
<p id="testPara"></p>

<p class="addTable" style="color: green">Press on button to print above table on clicking any element.</p> 
<button type="button" class="addTable" onclick="setChangeElement()">Click Me</button>
</body>
</html>